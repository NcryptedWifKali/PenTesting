#!/bin/bash 

# very simple loop through all methods to generate some benchmarks, edit MAX_THREADS depending on your cpu

MAX_THREADS=16
methods=`ls lib/*.py | grep -v '__init__'`
NOW=`date "+%a %d %h %Y %H:%M"`
echo "
Stats generated: ${NOW}

--- CPU
`cat /proc/cpuinfo`
--- END CPU

" > ./benchmark.txt

for m in ${methods[@]}; do
    R=`echo $m | sed -E 's/lib\/([^\.]+)\.py/\1/g'`
    echo "--- $R" >> ./benchmark.txt
    for (( i=1; i<=$MAX_THREADS; i++)); do 
        /usr/bin/env python ./nyancrack.py -f ./dummy_wlist.txt -o ./dummy_hashes-$R.txt -r $R -t $i | grep 'Completed' >> ./benchmark.txt;
    done
    echo "--- END $R" >> ./benchmark.txt
done
