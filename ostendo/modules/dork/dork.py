import json
import urllib.request
import urllib.parse

apiKey = 'PUTYOURGOOGLEAPIKEYHERE'

apiURL = 'https://ajax.googleapis.com/ajax/services/search/web/?v=1.0&q=%s'

dorks = [
    #This list credit http://www.youtube.com/watch?v=tJsNu0VRKYY
    'Microsoft OLE DB Provider for SQL Server',
    'Microsoft JET Database Engine',
    'Type mismatch',
    'You have an error in your SQL syntax',
    'Invalid SQL statement or JDBC',
    'DorisDuke error',
    'OleDBException',
    'JasperException',
    'Fatal Error',
    'supplied argument is not a valid MySQL',
    'mysql_'
    'ODBC',
    'JDBC',
    'ORA-00921',
    'ADODB'
    #more to come
]

def dorkSQLi(fqdn):
    """
        Ues google api's to quickly get relevant dork data back
        Args:
            fqdn: fully qualified domain name, if you needed that elaborating please slap yourself NOW
        Returns:
            list: summary list of results on successfully query
            None: returns None on error / no results found
    """
    
    for dork in dorks:
        print('site:%s "%s"' % (fqdn,dork))
        #q = urllib.parse.urlencode('site:%s "%s"' % (fqdn,dork))
        #print(apiURL % q)
        #r = urllib.reqtuest.Request(
        #    apiURL % (q),
        #    None,
        #    {}
        #)
        #d = urllib.request.urlopen(r)
        #res = json.loads(r)
        #print(res)

if __name__ == '__main__':
    dorkSQLi('www.saiweb.co.uk')
